## Zookeeper应用场景

提供的服务包括: 

- 统一命名服务
- 统一配置管理
- 统一集群管理
- 服务器节点动态上下线
- 软负载均衡



> 统一命名服务

在分布式环境下,经常需要对应用/服务进行统一命名,便于识别

例如:IP不容易记住,而域名容易记住

![1599114658274](04_%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.assets/1599114658274.png)

> 统一配置管理

一. 分布式环境下,配置文件同步非常常见

- 一般要求一个集群中,所有节点的配置信息是一致的,比如Kafka集群.
- 对配置文件修改后,希望能够快速同步到各个节点上.

二. 配置管理可交由ZooKeeper实现.

- 可以将配置信息写入Zookeeper上的一个Znode.
- 各个客户端服务器监听这个Znode.

![1599114727186](04_%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.assets/1599114727186.png)

> 统一集群管理

1. 分布式环境中,实时掌握每个节点的状态是必要的

   可根据节点实时状态做出一些调整

2. ZooKeeper可以实现实时监控节点状态变化

   1. 可以将节点信息写入Zookeeper上的一个Znode.
   2. 监听这个ZNode可获取它的实时状态变化.


![1599115092220](04_%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.assets/1599115092220.png)

> 服务器动态上下限

客户端能够实时洞察到服务器上下线的变化

![1599115183780](04_%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.assets/1599115183780.png)

> 负载均衡

在ZooKeeper中记录每台服务器的访问数,让访问数最少的服务器去处理最新的客户端请求

![1599115241311](04_%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.assets/1599115241311.png)